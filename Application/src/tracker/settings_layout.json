{"objects":[
    {
        "type":"vlayout",
        "align":"left",
        "children":[
            {
                "type":"stext",
                "text":"<h2>Settings</h2>Please choose how you want to process the video you provided.",
                "font":{
                    "size":0.8
                }
            },
            {
                "type":"hlayout",
                "pos":[0,0],
                "margins":[6,6,6,6],
                "align":"top",
                "children":[
                    {   "type":"vlayout",
                        "pos":[0,0],
                        "align":"right",
                        "children": [
                            {
                                "type":"stext",
                                "text":"source",
                                "margins": [0,6.5,0,10],
                                "line":[255,0,0]
                            },
                            {
                                "type":"stext",
                                "text":"target",
                                "margins": [0,6.5,0,43]
                            },

                            {
                                "type":"condition",
                                "var":"{global:track_background_subtraction}",
                                "then": 
                                {
                                    "type":"stext",
                                    "text":"model",
                                    "margins": [0,6.5,0,10]
                                },
                                "else": 
                                {
                                    "type":"stext",
                                    "text":"averaging",
                                    "margins": [0,6.5,0,10]
                                }
                            },

                            {
                                "type":"condition",
                                "var":"{global:track_background_subtraction}",
                                "then": 
                                {
                                    "type":"stext",
                                    "text":"region",
                                    "margins": [0,6.5,0,10]
                                },
                                "else":
                                {
                                    "type":"stext",
                                    "text":"threshold",
                                    "margins": [0,6.5,0,10]
                                }
                            }
                        ]
                    },
                    {   "type":"vlayout",
                        "pos":[0,0],
                        "align":"left",
                        "children": [
                            {
                                "type":"settings",
                                "var":"source",
                                "font":{"size":0.75},
                                "color":[225,225,225],
                                "fill":[50,50,50],
                                "line":[75,75,75],
                                "size":[500,40],
                                "desc":""
                            },
                            {
                                "type":"settings",
                                "var":"output_dir",
                                "font":{"size":0.75},
                                "color":[225,225,225],
                                "fill":[50,50,50],
                                "line":[75,75,75],
                                "size":[500,40],
                                "desc":""
                            },
                            {
                                "type":"settings",
                                "var":"track_background_subtraction",
                                "font":{"size":0.75},
                                "color":[225,225,225],
                                "fill":[50,50,50],
                                "line":[75,75,75],
                                "size":[200,50],
                                "desc":"Use machine learning to detect animals"
                            },

                            {
                                "type":"condition",
                                "var":"{global:track_background_subtraction}",
                                "then": {
                                    "type":"settings",
                                    "var":"model",
                                    "font":{"size":0.75},
                                    "color":[225,225,225],
                                    "fill":[50,50,50],
                                    "line":[75,75,75],
                                    "size":[500,40],
                                    "desc":""
                                },
                                "else": {
                                    "type":"settings",
                                    "var":"averaging_method",
                                    "font":{"size":0.75},
                                    "color":[225,225,225],
                                    "fill":[50,50,50],
                                    "line":[75,75,75],
                                    "size":[500,40],
                                    "desc":""
                                }
                            },

                            {
                                "type":"condition",
                                "var":"{global:track_background_subtraction}",
                                "then": {
                                    "type":"settings",
                                    "var":"region_model",
                                    "font":{"size":0.75},
                                    "color":[225,225,225],
                                    "fill":[50,50,50],
                                    "line":[75,75,75],
                                    "size":[500,40],
                                    "desc":""
                                },
                                "else": {
                                    "type":"settings",
                                    "var":"threshold",
                                    "font":{"size":0.75},
                                    "color":[225,225,225],
                                    "fill":[50,50,50],
                                    "line":[75,75,75],
                                    "size":[500,40],
                                    "desc":""
                                }
                            }

                            
                        ]
                    }
                ]
            },
            {
                "type":"stext",
                "size":[100,100],
                "color":[250,250,250],
                "text":"<h2>Advanced Settings</h2>{settings_summary}\ndetect_iou_threshold={global:detect_iou_threshold} detect_conf_threshold={global:detect_conf_threshold}\ntrack_threshold={global:track_threshold} track_posture_threshold={global:track_posture_threshold}\ntrack_background_subtraction={global:track_background_subtraction}","font":{
                    "size":0.8
                }
            },
            {   "type":"button",
                "text":"Edit",
                "fill":[50,50,50],
                "size":[50,40],
                "font":{
                    "align":"center",
                    "size":0.65
                },
                "action": "choose-settings"
            }
        ]
    }
    
]}