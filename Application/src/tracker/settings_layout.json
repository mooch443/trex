{
    "defaults": {
        "font": {
            "size": 0.75,
            "align": "left"
        },
        "color":[225,225,225],
        "highlight_clr":[50,50,50,255]
    },
    "objects":[
    {
        "type":"vlayout",
        "align":"left",
        "line":[255,0,0],
        "fill":[10,10,10],
        "children":[
            {
                "type":"stext",
                "text":"<h2>Segmentation Settings</h2>Please choose how you want to process the video you provided.",
                "font":{
                    "size":0.8
                }
            },
            {
                "type":"button",
                "text":"< Back",
                "fill":[50,50,50],
                "size":[150,40],
                "font":{
                    "align":"center",
                    "size":0.65
                },
                "action": "go-back"
            },
            {
                "type":"condition",
                "var":"{global:track_background_subtraction}",
                "else": 
                {
                    "type":"gridlayout",
                    "vertical_clr":[0,0,0,0],
                    "line":[255,0,255],
                    "clickable":true,
                    "children":[
                        [
                            [{
                                "type":"text",
                                "text":"source"
                            }],
                            [{
                                "type":"settings",
                                "var":"source",
                                "font":{"size":0.75},
                                "color":[225,225,225],
                                "fill":[50,50,50],
                                "line":[75,75,75],
                                "size":[800,40],
                                "desc":"",
                                "preview":{
                                    "font":{"size":0.5},
                                    "color":[125,125,125,255]
                                }
                            }]
                        ],
    
                        [
                            [{
                                "type":"text",
                                "text":"target"
                            }],
                            [{
                                "type":"settings",
                                "var":"output_dir",
                                "font":{"size":0.75},
                                "color":[225,225,225],
                                "fill":[50,50,50],
                                "line":[75,75,75],
                                "size":[800,40],
                                "desc":""
                            }]
                        ],

                        [
                            [],
                            [{
                                "type":"settings",
                                "var":"track_background_subtraction",
                                "invert":true,
                                "font":{"size":0.75},
                                "color":[225,225,225],
                                "fill":[50,50,50],
                                "line":[75,75,75],
                                "highlight_clr":[50,50,75],
                                "size":[200,35],
                                "desc":"Use machine learning to detect animals"
                            }]
                        ],

                        [
                            [{
                                "type":"text",
                                "text":"model"
                            }],
                            [{
                                "type":"settings",
                                "var":"model",
                                "font":{"size":0.75},
                                "color":[225,225,225],
                                "fill":[50,50,50],
                                "line":[75,75,75],
                                "size":[800,40],
                                "desc":""
                            }]
                        ],

                        [
                            [{
                                "type":"text",
                                "text":"region model"
                            }],
                            [{
                                "type":"settings",
                                "var":"region_model",
                                "font":{"size":0.75},
                                "color":[225,225,225],
                                "fill":[50,50,50],
                                "line":[75,75,75],
                                "size":[800,40],
                                "desc":""
                            }]
                        ]
                    ]
                },
                "then":{
                    "type":"gridlayout",
                    "vertical_clr":[0,0,0,0],
                    "clickable":true,
                    "children":[
                        [
                            [{
                                "type":"stext",
                                "text":"source",
                                "margins": [0,6.5,0,10],
                                "line":[255,0,0]
                            }],
                            [{
                                "type":"settings",
                                "var":"source",
                                "font":{"size":0.75},
                                "color":[225,225,225],
                                "fill":[50,50,50],
                                "line":[75,75,75],
                                "size":[800,40],
                                "desc":""
                            }]
                        ],

                        [
                            [{
                                "type":"stext",
                                "text":"target",
                                "margins": [0,6.5,0,10],
                                "line":[255,0,0]
                            }],
                            [{
                                "type":"settings",
                                "var":"output_dir",
                                "font":{"size":0.75},
                                "color":[225,225,225],
                                "fill":[50,50,50],
                                "line":[75,75,75],
                                "size":[800,40],
                                "desc":""
                            }]
                        ],


                        [
                            [{
                                "type":"rect",
                                "size":[0,0]
                            }],
                            [{
                                "type":"settings",
                                "var":"track_background_subtraction",
                                "invert":true,
                                "font":{"size":0.75},
                                "color":[225,225,225],
                                "fill":[50,50,50],
                                "line":[75,75,75],
                                "size":[200,50],
                                "desc":"Use machine learning to detect animals"
                            }]
                        ],
                        
                        [
                            [{
                                "type":"stext",
                                "text":"averaging",
                                "margins": [0,6.5,0,10]
                            }],
                            [{
                                "type":"settings",
                                "var":"averaging_method",
                                "font":{"size":0.75},
                                "color":[225,225,225],
                                "fill":[50,50,50],
                                "line":[75,75,75],
                                "size":[200,50],
                                "desc":""
                            }]
                        ],

                        [
                            [{
                                "type":"stext",
                                "text":"threshold",
                                "margins": [0,6.5,0,10]
                            }],
                            [{
                                "type":"settings",
                                "var":"threshold",
                                "font":{"size":0.75},
                                "color":[225,225,225],
                                "fill":[50,50,50],
                                "line":[75,75,75],
                                "size":[800,40],
                                "desc":""
                            }]
                        ]
                    ]
                }
            },
            {
                "type":"stext",
                "size":[100,100],
                "max_size":[1000,-1],
                "color":[250,250,250],
                "text":"<h2>Advanced Settings</h2>{#settings_summary}\ndetect_iou_threshold={#global:detect_iou_threshold} detect_conf_threshold={#global:detect_conf_threshold}\ntrack_threshold={#global:track_threshold} averaging_method={#global:averaging_method} track_posture_threshold={#global:track_posture_threshold}\ntrack_background_subtraction={#global:track_background_subtraction}\nmodel=<str>{global:model}</str>\nregion_model=<str>{global:region_model}</str>\n{#global:source}",
                "font":{
                    "size":0.8
                }
            },
            {   "type":"button",
                "text":"Edit",
                "fill":[50,50,50],
                "size":[50,40],
                "font":{
                    "align":"center",
                    "size":0.65
                },
                "action": "choose-settings"
            },
            {
                "type":"hlayout",
                "align":"center",
                "line":[255,0,255],
                "margins":[0,0,0,0],
                "children":[
                    {
                        "type":"settings",
                        "var":"",
                        "font":{"size":0.75,"align":"center"},
                        "fill":[50,50,50],
                        "line":[75,75,75],
                        "size":[700,40],
                        "color":[225,225,225],
                        "desc":"",
                        "highlight_clr":[75,75,75,255]
                    },
                    {
                        "type":"button",
                        "text":"Next >",
                        "fill":[50,50,50],
                        "size":[150,40],
                        "font":{
                            "align":"center",
                            "size":0.65
                        },
                        "action": "convert"
                    }
                ]
            }
        ]
    }
    
]}